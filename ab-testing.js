(()=>{"use strict";var e={853:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=r(338),i=r(83),a=r(675);t.default=class{constructor(e){this.initConfig=e}init(){const e=this.pickVariant();this.setVariant(e,new n.Base64Decoder)}setVariant(e,t){document.open(),document.write(t?t.decode(e.html):e.html),document.close()}pickVariant(){const e=new i.VariantRequest(this.initConfig),t=new a.CriteriaWinner;return t.setNext(new a.CriteriaQueryString).setNext(new a.CriteriaCookie).setNext(new a.CriteriaRandom).setNext(new a.CriteriaController).setNext(new a.CriteriaFirstVariant).setNext(new a.CriteriaNotFound),t.run(e)}}},528:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COOKIE_EXP_DAYS=t.COOKIE_NAME=t.COOKIE_PREFIX=void 0,t.COOKIE_PREFIX="landerlab-ab-test",t.COOKIE_NAME="Landerlab_ABTesting",t.COOKIE_EXP_DAYS=7},502:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CookieService=void 0;const n=r(528);t.CookieService=class{constructor(){}setCookie(e,t,r){let n="";if(r){const e=new Date;e.setTime(e.getTime()+24*r*60*60*1e3),n="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"}getCookie(e){const t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let n=r[e];for(;" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}getIDFromCookieValue(e){if(!e)return null;const[t,r]=e.split(":");if(t!==n.COOKIE_PREFIX)return null;const i=Number(r);return isNaN(i)?null:i}deleteAllCookies(){const e=document.cookie.split(";");for(let t=0;t<e.length;t++){const r=e[t],n=r.indexOf("="),i=n>-1?r.substr(0,n):r;document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}}},675:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CriteriaNotFound=t.CriteriaFirstVariant=t.CriteriaController=t.CriteriaRandom=t.CriteriaCookie=t.CriteriaQueryString=t.CriteriaWinner=void 0;const n=r(528),i=r(111),a=r(502);class o extends i.RuleHandler{run(e){return e.variantWithMaximumWeight?e.variantWithMaximumWeight:super.run(e)}}t.CriteriaWinner=o;class s extends i.RuleHandler{run(e){return e.variantThatMatchesQueryString?e.variantThatMatchesQueryString:super.run(e)}}t.CriteriaQueryString=s;class u extends i.RuleHandler{run(e){return e.variantThatMatchesCookie?e.variantThatMatchesCookie:super.run(e)}}t.CriteriaCookie=u;class l extends i.RuleHandler{run(e){let t,r=[];for(t=0;t<e.allVariants.length;t++)r[t]=e.allVariants[t].weight+(r[t-1]||0);const i=Math.random()*r[r.length-1];for(t=0;t<r.length&&!(r[t]>i);t++);const o=e.allVariants[t];return o?((new a.CookieService).setCookie(n.COOKIE_NAME,`${n.COOKIE_PREFIX}:${o.id}`,n.COOKIE_EXP_DAYS),o):super.run(e)}}t.CriteriaRandom=l;class c extends i.RuleHandler{run(e){return e.variantController?e.variantController:super.run(e)}}t.CriteriaController=c;class d extends i.RuleHandler{run(e){return e.firstVariant?e.firstVariant:super.run(e)}}t.CriteriaFirstVariant=d;class h extends i.RuleHandler{run(e){throw new Error(`No variant was found for request: ${e}`)}}t.CriteriaNotFound=h},338:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Base64Decoder=void 0,t.Base64Decoder=class{decode(e){return decodeURIComponent(escape(atob(e)))}}},607:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(853));window.LanderlabABTesting=new i.default(window.variants),window.LanderlabABTesting.init()},83:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VariantRequest=void 0;const n=r(502),i=r(528);t.VariantRequest=class{constructor(e){this.variants=e,this.queryStringParams=new URLSearchParams(window.location.search);const t=new n.CookieService,r=t.getCookie(i.COOKIE_NAME);this.cookieInformationID=t.getIDFromCookieValue(r)}get allVariants(){return this.variants.experiments}get variantWithMaximumWeight(){return this.variants.experiments.find((e=>100===e.weight))||null}get variantThatMatchesQueryString(){const e=Number(this.queryStringParams.get("variant"));return Number.isFinite(e)&&this.variants.experiments.find((t=>t.id===e))||null}get variantThatMatchesCookie(){return Number.isFinite(this.cookieInformationID)&&this.variants.experiments.find((e=>e.id===this.cookieInformationID))||null}get variantController(){return this.variants.experiments.find((e=>!0===e.controller))||null}get firstVariant(){return 0===this.variants.experiments.length?null:this.variants.experiments[0]}}},111:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RuleHandler=void 0,t.RuleHandler=class{setNext(e){return this._next=e,e}run(e){return this._next.run(e)}}}},t={};!function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(607)})();
